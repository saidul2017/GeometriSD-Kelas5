<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Materi Geometri - Kelas 5 SD</title>
    <link rel="stylesheet" href="css/modern-style.css">
    <link rel="stylesheet" href="css/navigation.css">
    <link rel="stylesheet" href="css/loader.css">
    <link rel="stylesheet" href="css/notifications.css">
    <style>
        .topic-card {
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            display: block;
        }

        .topic-card:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .topic-icon {
            font-size: 80px;
            margin-bottom: 20px;
            display: inline-block;
            transition: transform 0.4s ease;
        }

        .topic-card:hover .topic-icon {
            transform: scale(1.2) rotate(5deg);
        }

        .topic-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            padding: 6px 12px;
            border-radius: 100px;
            font-size: 12px;
            font-weight: 600;
            background: white;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .gradient-bg-1 { background: var(--gradient-primary); }
        .gradient-bg-2 { background: var(--gradient-success); }
        .gradient-bg-3 { background: var(--gradient-warning); }
        .gradient-bg-4 { background: var(--gradient-info); }
        .gradient-bg-5 { background: var(--gradient-orange); }

        .category-header {
            text-align: center;
            padding: 60px 20px 40px;
            background: linear-gradient(135deg, var(--color-primary) 0%, #764ba2 100%);
            color: white;
            border-radius: var(--radius-xl);
            margin-bottom: 40px;
        }

        @media (max-width: 768px) {
            .topic-icon { font-size: 60px; }
            .category-header { padding: 40px 20px 30px; }
        }
    </style>
</head>
<body>
    <div style="max-width: 1400px; margin: 0 auto; padding: 20px; padding-top: 100px;">
        <!-- Header -->
        <div class="category-header">
            <h1 style="font-family: 'Fredoka', sans-serif; font-size: 56px; margin-bottom: 16px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2);">
                📚 Pilih Materi Belajar
            </h1>
            <p style="font-size: 20px; opacity: 0.95;">Belajar geometri dengan cara yang menyenangkan!</p>
        </div>

        <!-- Bangun Datar Section -->
        <div style="margin-bottom: 60px;">
            <h2 style="font-family: 'Fredoka', sans-serif; font-size: 40px; margin-bottom: 30px; color: #2d3748; text-align: center;">
                🟦 Bangun Datar
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px;">
                <!-- Segitiga -->
                <a href="materi-detail.html?topik=segitiga" class="modern-card topic-card gradient-bg-1" style="color: white; text-align: center; padding: 40px 30px;">
                    <span class="topic-badge" style="color: var(--color-primary);">Populer ⭐</span>
                    <div class="topic-icon icon-bounce">🔺</div>
                    <h3 style="font-family: 'Fredoka', sans-serif; font-size: 28px; margin-bottom: 12px;">Segitiga</h3>
                    <p style="opacity: 0.95; margin-bottom: 20px;">Pelajari rumus luas & keliling segitiga</p>
                    <div class="progress-bar-modern" style="margin-bottom: 16px;">
                        <div class="progress-fill" style="width: 0%; background: white;"></div>
                    </div>
                    <span style="font-size: 14px; opacity: 0.9;">0% Selesai</span>
                </a>

                <!-- Persegi -->
                <a href="materi-detail.html?topik=persegi" class="modern-card topic-card gradient-bg-2" style="color: white; text-align: center; padding: 40px 30px;">
                    <div class="topic-icon icon-pulse">🟦</div>
                    <h3 style="font-family: 'Fredoka', sans-serif; font-size: 28px; margin-bottom: 12px;">Persegi</h3>
                    <p style="opacity: 0.95; margin-bottom: 20px;">Kenali sifat & rumus persegi</p>
                    <div class="progress-bar-modern" style="margin-bottom: 16px;">
                        <div class="progress-fill" style="width: 0%; background: white;"></div>
                    </div>
                    <span style="font-size: 14px; opacity: 0.9;">0% Selesai</span>
                </a>

                <!-- Persegi Panjang -->
                <div class="modern-card topic-card gradient-bg-3" style="color: white; text-align: center; padding: 40px 30px; opacity: 0.6; cursor: not-allowed;">
                    <div class="topic-icon">📏</div>
                    <h3 style="font-family: 'Fredoka', sans-serif; font-size: 28px; margin-bottom: 12px;">Persegi Panjang</h3>
                    <p style="opacity: 0.95; margin-bottom: 20px;">Segera Hadir</p>
                    <span style="font-size: 14px; opacity: 0.9;">🔒 Coming Soon</span>
                </div>

                <!-- Jajar Genjang -->
                <div class="modern-card topic-card gradient-bg-4" style="color: white; text-align: center; padding: 40px 30px; opacity: 0.6; cursor: not-allowed;">
                    <div class="topic-icon">🔷</div>
                    <h3 style="font-family: 'Fredoka', sans-serif; font-size: 28px; margin-bottom: 12px;">Jajar Genjang</h3>
                    <p style="opacity: 0.95; margin-bottom: 20px;">Segera Hadir</p>
                    <span style="font-size: 14px; opacity: 0.9;">🔒 Coming Soon</span>
                </div>

                <!-- Trapesium -->
                <div class="modern-card topic-card gradient-bg-5" style="color: white; text-align: center; padding: 40px 30px; opacity: 0.6; cursor: not-allowed;">
                    <div class="topic-icon">🔶</div>
                    <h3 style="font-family: 'Fredoka', sans-serif; font-size: 28px; margin-bottom: 12px;">Trapesium</h3>
                    <p style="opacity: 0.95; margin-bottom: 20px;">Segera Hadir</p>
                    <span style="font-size: 14px; opacity: 0.9;">🔒 Coming Soon</span>
                </div>

                <!-- Belah Ketupat -->
                <div class="modern-card topic-card gradient-bg-1" style="color: white; text-align: center; padding: 40px 30px; opacity: 0.6; cursor: not-allowed;">
                    <div class="topic-icon">💎</div>
                    <h3 style="font-family: 'Fredoka', sans-serif; font-size: 28px; margin-bottom: 12px;">Belah Ketupat</h3>
                    <p style="opacity: 0.95; margin-bottom: 20px;">Segera Hadir</p>
                    <span style="font-size: 14px; opacity: 0.9;">🔒 Coming Soon</span>
                </div>

                <!-- Layang-layang -->
                <div class="modern-card topic-card gradient-bg-2" style="color: white; text-align: center; padding: 40px 30px; opacity: 0.6; cursor: not-allowed;">
                    <div class="topic-icon">🪁</div>
                    <h3 style="font-family: 'Fredoka', sans-serif; font-size: 28px; margin-bottom: 12px;">Layang-layang</h3>
                    <p style="opacity: 0.95; margin-bottom: 20px;">Segera Hadir</p>
                    <span style="font-size: 14px; opacity: 0.9;">🔒 Coming Soon</span>
                </div>

                <!-- Lingkaran -->
                <div class="modern-card topic-card gradient-bg-3" style="color: white; text-align: center; padding: 40px 30px; opacity: 0.6; cursor: not-allowed;">
                    <span class="topic-badge" style="color: var(--color-warning);">Penting! 🔥</span>
                    <div class="topic-icon">⭕</div>
                    <h3 style="font-family: 'Fredoka', sans-serif; font-size: 28px; margin-bottom: 12px;">Lingkaran</h3>
                    <p style="opacity: 0.95; margin-bottom: 20px;">Segera Hadir</p>
                    <span style="font-size: 14px; opacity: 0.9;">🔒 Coming Soon</span>
                </div>
            </div>
        </div>

        <!-- Bangun Ruang Section -->
        <div style="margin-bottom: 60px;">
            <h2 style="font-family: 'Fredoka', sans-serif; font-size: 40px; margin-bottom: 30px; color: #2d3748; text-align: center;">
                📦 Bangun Ruang
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px;">
                <!-- Kubus -->
                <div class="modern-card topic-card gradient-bg-4" style="color: white; text-align: center; padding: 40px 30px; opacity: 0.6; cursor: not-allowed;">
                    <div class="topic-icon">🎲</div>
                    <h3 style="font-family: 'Fredoka', sans-serif; font-size: 28px; margin-bottom: 12px;">Kubus</h3>
                    <p style="opacity: 0.95; margin-bottom: 20px;">Segera Hadir</p>
                    <span style="font-size: 14px; opacity: 0.9;">🔒 Coming Soon</span>
                </div>

                <!-- Balok -->
                <div class="modern-card topic-card gradient-bg-5" style="color: white; text-align: center; padding: 40px 30px; opacity: 0.6; cursor: not-allowed;">
                    <div class="topic-icon">📦</div>
                    <h3 style="font-family: 'Fredoka', sans-serif; font-size: 28px; margin-bottom: 12px;">Balok</h3>
                    <p style="opacity: 0.95; margin-bottom: 20px;">Segera Hadir</p>
                    <span style="font-size: 14px; opacity: 0.9;">🔒 Coming Soon</span>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div style="text-align: center; padding: 40px 20px;">
            <p style="color: #718096; font-size: 16px;">💡 <strong>Tips:</strong> Klik materi untuk mulai belajar!</p>
            <p style="color: #a0aec0; font-size: 14px; margin-top: 12px;">Materi lainnya akan segera ditambahkan 🚀</p>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/loader.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/notifications.js"></script>
    
    <script>
        console.log('Materi page loaded!');

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initNavigation('materi');
        });

        // Check authentication
        firebase.auth().onAuthStateChanged((user) => {
            if (!user) {
                window.location.href = 'login.html';
                return;
            }
            console.log('User authenticated:', user.uid);
            loadUserProgress(user.uid);
        });

        // Load user progress
        async function loadUserProgress(userId) {
            try {
                const snapshot = await firebase.database().ref('progress/' + userId + '/materi').once('value');
                const progressData = snapshot.val();
                
                if (progressData) {
                    console.log('Progress data:', progressData);
                    // TODO: Update progress bars based on data
                }
            } catch (error) {
                console.error('Error loading progress:', error);
            }
        }
    </script>
</body>
</html>